(this.webpackJsonp=this.webpackJsonp||[]).push([[5],{103:function(n,r,e){"use strict";e.r(r);var t=e(23),a=e.n(t),o=(e(62),e(63),e(64),e(60),e(37),e(117),e(108),e(104),e(58),e(129),e(61),e(159),e(59),e(161),e(165)),u=e(133),i=e(166),c=e(123),d=e(118);e(136),e(124),e(122),e(107),e(127),e(119);function l(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function f(){return(f=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}function s(n,r){switch(r.type){case c.f:case c.g:return f({},n,{loading:!0});case c.k:case c.i:case c.h:return f({},n,{loading:!0});case c.o:var e=r.payload,t=e.id,a=e.update;return n.board&&n.board.id===t?f({},n,{updating:!0,board:f({},n.board,{name:a.name||n.board.name})}):n;case c.l:return f({},n,{downloading:!0});case c.m:return f({},n,{mode:r.payload});case c.n:var o=r.payload,u=o.id,i=o.solo,s=n.board,p=f({},n.layerVisibility,l({},u,i||!n.layerVisibility[u]));if(i){var y=(s?s.layers:[]).map(function(n){return n.id}).filter(function(n){return n!==u}),b=y.every(function(n){return!p[n]});p=y.reduce(function(n,r){return f({},n,l({},r,b))},p)}return f({},n,{layerVisibility:p});case c.q:return f({},n,{savedBoards:r.payload});case c.d:var v=n.mode,g=n.layerVisibility,O=r.payload,E=O.layers.reduce(function(n,r){var e=g[r.id];return f({},n,l({},r.id,null==e||e))},{});return f({},n,{board:O,layerVisibility:E,mode:v||"top",loading:!1,updating:!1});case c.e:var w=r.payload,h=n.savedBoards.map(function(n){return n.id===w.id?w:n});return h.indexOf(w)<0&&h.push(w),f({},n,{savedBoards:h});case c.b:var R=r.payload,A=n.savedBoards.filter(function(n){return n.id!==R}),D=n.board,m=n.mode;return D&&D.id===R&&(D=null,m=null),f({},n,{mode:m,board:D,savedBoards:A,loading:!1});case c.c:return f({},n,{downloading:!1});case c.a:return d.a;case c.j:return f({},n,{error:null});case c.p:var _=f({},n,{error:r.payload.error});switch(r.payload.request.type){case c.f:case c.g:case c.i:case c.h:return f({},_,{loading:!1});case c.o:return f({},_,{updating:!1});case c.l:return f({},_,{downloading:!1})}return _}return n}function p(){return(p=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}function y(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=[],t=!0,a=!1,o=void 0;try{for(var u,i=n[Symbol.iterator]();!(t=(u=i.next()).done)&&(e.push(u.value),!r||e.length!==r);t=!0);}catch(n){a=!0,o=n}finally{try{t||null==i.return||i.return()}finally{if(a)throw o}}return e}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(n){var r,e,l,f,b,v=(r=y(Object(t.useReducer)(s,d.a),2),e=r[0],l=r[1],f=Object(t.useRef)(null),b=Object(t.useCallback)(function(n){switch(u.a.debug("dispatch",n),l(n),n.type){case c.f:case c.g:case c.k:case c.l:case c.o:case c.i:case c.h:u.a.debug("sending action to RenderWorker",n.type),f.current&&f.current.postMessage(n);break;case c.q:var r=new URLSearchParams(window.location.search.slice(1)).get("boardUrl");r&&b(c.s(r));break;case c.c:Object(o.saveAs)(n.payload.file,"".concat(n.payload.name,".zip"))}},[u.a]),Object(t.useEffect)(function(){return f.current=new i.default,f.current.onmessage=function(n){u.a.debug("action recieved from RenderWorker",n.data.type),b(n.data)},function(){f.current&&f.current.terminate()}},[]),p({},e,{dispatch:b}));return a.a.createElement(d.b.Provider,{value:v},n.children)}e.d(r,"default",function(){return b})},118:function(n,r,e){"use strict";e.d(r,"a",function(){return o}),e.d(r,"b",function(){return u}),e.d(r,"c",function(){return i});e(104);var t=e(23);function a(){return(a=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}var o={board:null,savedBoards:[],mode:null,loading:!1,updating:!1,downloading:!1,layerVisibility:{},error:null},u=e.n(t).a.createContext(a({},o,{dispatch:function(){}})),i=function(){return Object(t.useContext)(u)}},123:function(n,r,e){"use strict";e.d(r,"f",function(){return t}),e.d(r,"g",function(){return a}),e.d(r,"k",function(){return o}),e.d(r,"l",function(){return u}),e.d(r,"o",function(){return i}),e.d(r,"i",function(){return c}),e.d(r,"h",function(){return d}),e.d(r,"m",function(){return l}),e.d(r,"n",function(){return f}),e.d(r,"d",function(){return s}),e.d(r,"e",function(){return p}),e.d(r,"b",function(){return y}),e.d(r,"c",function(){return b}),e.d(r,"a",function(){return v}),e.d(r,"q",function(){return g}),e.d(r,"p",function(){return O}),e.d(r,"j",function(){return E}),e.d(r,"r",function(){return w}),e.d(r,"s",function(){return h}),e.d(r,"w",function(){return R}),e.d(r,"A",function(){return A}),e.d(r,"u",function(){return D}),e.d(r,"t",function(){return m}),e.d(r,"x",function(){return _}),e.d(r,"y",function(){return B}),e.d(r,"z",function(){return j}),e.d(r,"v",function(){return L});e(134),e(108),e(58),e(135);var t="CREATE_BOARD",a="CREATE_BOARD_FROM_URL",o="GET_BOARD",u="GET_BOARD_PACKAGE",i="UPDATE_BOARD",c="DELETE_BOARD",d="DELETE_ALL_BOARDS",l="SET_MODE",f="TOGGLE_VISIBILITY",s="BOARD_RENDERED",p="BOARD_UPDATED",y="BOARD_DELETED",b="BOARD_PACKAGED",v="ALL_BOARDS_DELETED",g="WORKER_INITIALIZED",O="WORKER_ERRORED",E="DISMISS_ERROR",w=function(n){return{type:t,payload:n}},h=function(n){return{type:a,payload:n}},R=function(n){return{type:o,payload:n}},A=function(n,r){return{type:i,payload:{id:n,update:r}}},D=function(n){return{type:c,payload:n}},m=function(){return{type:d}},_=function(n){return{type:u,payload:n}},B=function(n){return{type:l,payload:n}},j=function(n,r){return{type:f,payload:{id:n,solo:r}}},L=function(){return{type:E}}},133:function(n,r,e){"use strict";e(110),e(122);var t,a="logLevel",o="warn",u=["debug","info","warn","error"],i={debug:c("debug"),info:c("info"),warn:c("warn"),error:c("error")};function c(n){return t||(t=function(){if("undefined"!=typeof window&&window.localStorage)try{var n=window.localStorage.getItem(a);if("debug"===n||"info"===n||"warn"===n||"error"===n)return n}catch(n){console.error("Could not read logLevel from localStorage",n)}return o}()),u.indexOf(n)>=u.indexOf(t)?function(r){for(var e,t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return(e=console)[n].apply(e,["".concat(n,": ").concat(r)].concat(a))}:function(){}}r.a=i},145:function(n,r){},166:function(n,r,e){"use strict";var t=e(167),a=e.n(t);e(145);r.default=a.a},167:function(n,r,e){n.exports=function(){return new Worker(e.p+"2860b24d78cee11b8d5e.worker.js")}}}]);
//# sourceMappingURL=5.13330638c51749a04737.js.map